<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>4 example</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=1">
  <link rel="stylesheet" href="css/nft-style.css">
</head>
<body>
  <div id="loading" >
    <span class="loading-text">Loading, please wait....13</span>
  </div>
<!--  
  ==================
  STATS
  ==================
 -->
	<div id="app">
		<video
			loop
			autoplay
			muted
			playsinline
			id="video">
		</video>
		<canvas id="canvas"></canvas>
	</div>
  <script src="dist/ARToolkitNFT.js"></script>
  <script src="index.js"></script>
  <script src="threejs_worker_ES6.js"></script>

  <script>
  /**
  * STATS
  */


  window.addEventListener('load', () => {
    console.log('init ARToolkitNFT...');
    initCamera()
    .then(video => {

    // start camera playback
    sourceVideo = video;
    sourceVideo.width = 640;
    sourceVideo.height = 480;
    sourceVideo.play();

    // init target canvas
    initTargetCanvas();

    return new Promise(resolve => {
      sourceVideo.addEventListener("loadeddata", event => {
        console.log("Camera is ready");
        resolve();
      });
    });
  })
  .then(_ => {

    start('../examples/DataNFT/pinball', video, video.videoWidth, video.videoHeight, function() { statsMain.update() }, function() { statsWorker.update() })

    });
  })
  </script>

</body>

</html>
